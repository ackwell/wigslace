// Rainbow text thingo. Creds to http://rainbowcoding.com/how-to-create-rainbow-text-in-html-css-javascript/ (Slightly modified)
function color_from_hue(d){var f=d/60;var g=255;var a=(1-Math.abs(f%2-1))*255;var b;var e=Math.floor(f);if(e==0){b=rgb_to_hex(g,a,0)}else{if(e==1){b=rgb_to_hex(a,g,0)}else{if(e==2){b=rgb_to_hex(0,g,a)}else{if(e==3){b=rgb_to_hex(0,a,g)}else{if(e==4){b=rgb_to_hex(a,0,g)}else{b=rgb_to_hex(g,0,a)}}}}}return b};
function rgb_to_hex(d,c,a){var b=((d<<16)|(c<<8)|(a)).toString(16);while(b.length<6){b="0"+b}return"#"+b};
(function(a){a.fn.rainbowize=function(){return this.each(function(){var d="";var b=0;var e=0;var f=a(this).text();	if(f.length>0){e=360/(f.length)}for(var c=0;c<f.length;c++){d=d+'<span style="color:'+color_from_hue(b)+'">'+f.charAt(c)+"</span>";b+=e}if(f){a(this).html(d)}})}})(jQuery);

/* -- https://bitbucket.org/AMcBain/bb-code-parser
   --
   --
   -- JS BB-Code Parsing Library
   --
   -- Copyright 2009-2013, A.McBain

	Redistribution and use, with or without modification, are permitted provided that the following
	conditions are met:

	   1. Redistributions of source code must retain the above copyright notice, this list of
		  conditions and the following disclaimer.
	   2. Redistributions of binaries must reproduce the above copyright notice, this list of
		  conditions and the following disclaimer in other materials provided with the distribution.
	   4. The name of the author may not be used to endorse or promote products derived from this
		  software without specific prior written permission.

	THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
	BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
	ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
	EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
	OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
	OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
	ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

   --

	While this software is released "as is", I don't mind getting bug reports.
	*/
function BBCode(){this.getCodeName=function(){},this.getDisplayName=function(){},this.needsEnd=function(){},this.canHaveCodeContent=function(){},this.canHaveArgument=function(){},this.mustHaveArgument=function(){},this.getAutoCloseCodeOnOpen=function(){},this.getAutoCloseCodeOnClose=function(){},this.isValidArgument=function(){},this.isValidParent=function(){},this.escape=function(){},this.open=function(){},this.close=function(){}}function BBCodeParser(a){function d(){b={GLOBAL:new HTMLGlobalBBCode,b:new HTMLBoldBBCode,i:new HTMLItalicBBCode,u:new HTMLUnderlineBBCode,s:new HTMLStrikeThroughBBCode,font:new HTMLFontBBCode,size:new HTMLFontSizeBBCode,color:new HTMLColorBBCode,left:new HTMLLeftBBCode,center:new HTMLCenterBBCode,right:new HTMLLeftBBCode,quote:new HTMLQuoteBBCode,code:new HTMLCodeBBCode,codebox:new HTMLCodeBoxBBCode,url:new HTMLLinkBBCode,img:new HTMLImageBBCode,ul:new HTMLUnorderedListBBCode,ol:new HTMLOrderedListBBCode,li:new HTMLListItemBBCode,list:new HTMLListBBCode,"*":new HTMLStarBBCode}}function n(a,b,c,d,e,f,g,h,j){var k="";if(-1!==a.lastIndexOf(h)&&-1!==a.lastIndexOf(j)){for(var l=[],m=[],n=new BBCodeParser_MultiTokenizer(a);n.hasNextToken(h);){var s=n.nextToken(h),t=n.nextToken(j);if(""!==t){if(""!==s&&l.push(new BBCodeParser_Token(BBCodeParser_Token.CONTENT,s)),-1!==t.indexOf(h)&&(t=t.split(h),l.push(new BBCodeParser_Token(BBCodeParser_Token.CONTENT,h+t[0])),t=t[1]),n.isExhausted()&&a.substring(a.length-j.length)!==j){l.push(new BBCodeParser_Token(BBCodeParser_Token.CONTENT,h+t));continue}var u,v,w=t.lastIndexOf("=");-1!==w?(u=t.substr(0,w),v=t.substr(w+1)):(u=t,v=null);var x;if("/"===t.substr(0,1)){var y=u.substr(1);BBCodeParser.isValidKey(d,y)&&(x=d[y].getAutoCloseCodeOnClose())&&BBCodeParser.isValidKey(d,x)&&PHPC.in_array(x,m)&&(r(m,x,!0),l.push(new BBCodeParser_Token(BBCodeParser_Token.CODE_END,"/"+x))),l.push(new BBCodeParser_Token(BBCodeParser_Token.CODE_END,u)),u=y}else BBCodeParser.isValidKey(d,u)&&(x=d[u].getAutoCloseCodeOnOpen())&&BBCodeParser.isValidKey(d,x)&&PHPC.in_array(x,m)&&(r(m,x,!0),l.push(new BBCodeParser_Token(BBCodeParser_Token.CODE_END,"/"+x))),l.push(new BBCodeParser_Token(BBCodeParser_Token.CODE_START,u,v)),m.push(u);BBCodeParser.isValidKey(d,u)?PHPC.in_array(u,b)||(l[l.length-1].status=BBCodeParser_Token.NOTALLOWED):l[l.length-1].status=BBCodeParser_Token.NOIMPLFOUND}else""===t&&l.push(new BBCodeParser_Token(BBCodeParser_Token.CONTENT,s+"[]"))}var z=n.positionToEndToken();""!==z&&l.push(new BBCodeParser_Token(BBCodeParser_Token.CONTENT,z));var A=l.length;for(i=0;A>i;i++){var B=l[i];if(B.status!==BBCodeParser_Token.NOIMPLFOUND&&B.status!==BBCodeParser_Token.NOTALLOWED)if(B.type===BBCodeParser_Token.CODE_START)d[B.content].needsEnd()||(B.status=BBCodeParser_Token.VALID);else if(B.type===BBCodeParser_Token.CODE_END)if(E=B.content.substr(1),d[E].needsEnd()){var C;C=f?p(l,E,i):o(l,BBCodeParser_Token.UNDETERMINED,i),-1===C||l[C].content!==E?B.status=BBCodeParser_Token.INVALID:(B.status=BBCodeParser_Token.VALID,B.matches=C,l[C].status=BBCodeParser_Token.VALID,l[C].matches=i)}else B.type=BBCodeParser_Token.CONTENT,B.status=BBCodeParser_Token.VALID;if(e&&B.status===BBCodeParser_Token.INVALID)return a}for(m=[],i=0;A>i;i++){var D,B=l[i];if(B.type===BBCodeParser_Token.CONTENT)D=o(l,BBCodeParser_Token.VALID,i),k+=g?-1!==D&&BBCodeParser.isValidKey(d,l[D].content)?d[l[D].content].escape(c,B.content):d.GLOBAL.escape(c,B.content):B.content;else if(B.type===BBCodeParser_Token.CODE_START){if(D=null,B.status!==BBCodeParser_Token.NOIMPLFOUND&&B.status!==BBCodeParser_Token.NOTALLOWED){if(D=q(l,i),(B.status===BBCodeParser_Token.UNDETERMINED&&d[B.content].needsEnd()||d[B.content].canHaveArgument()&&!d[B.content].isValidArgument(c,B.argument)||!d[B.content].canHaveArgument()&&B.argument||d[B.content].mustHaveArgument()&&!B.argument||-1!==D&&!d[l[D].content].canHaveCodeContent())&&(B.status=BBCodeParser_Token.INVALID,B.matches&&(l[B.matches].status=BBCodeParser_Token.INVALID),e))return a;D=-1===D?"GLOBAL":l[D].content}if(B.status===BBCodeParser_Token.VALID&&!d[B.content].isValidParent(c,D)&&(B.matches&&(l[B.matches].status=BBCodeParser_Token.INVALID),B.status=BBCodeParser_Token.INVALID,e))return a;B.status===BBCodeParser_Token.VALID?(k+=d[B.content].open(c,B.argument),f&&m.push(B)):k+=null!==B.argument?h+B.content+"="+B.argument+j:h+B.content+j}else if(B.type===BBCodeParser_Token.CODE_END)if(B.status===BBCodeParser_Token.VALID){var E=B.content.substr(1);if(f){for(var F=m.length-1;F>=0;F--){var G=m[F];k+=d[G.content].close(c,G.argument,G.content===E?null:E)}r(m,l[B.matches],!0)}else k+=d[E].close(c,B.argument);if(f)for(var F=0;F<m.length;F++){var G=m[F];k+=d[G.content].open(c,G.argument,G.content===E?null:E)}}else k+=h+B.content+j}}else k+=g?d.GLOBAL.escape(c,a):a;return k}function o(a,b,c){for(var d=c-1;d>=0;d--)if(a[d].type===BBCodeParser_Token.CODE_START&&a[d].status===b)return d;return-1}function p(a,b,c){for(var d=c-1;d>=0;d--)if(a[d].type===BBCodeParser_Token.CODE_START&&a[d].status===BBCodeParser_Token.UNDETERMINED&&a[d].content===b)return d;return-1}function q(a,b){for(var c=b-1;c>=0;c--)if(a[c].type===BBCodeParser_Token.CODE_START&&a[c].status===BBCodeParser_Token.VALID&&a[c].matches>b)return c;return-1}function r(a,b,c){for(void 0===c&&(c=!1),count=a.length,i=0;count>i;i++)if(a[i]===b){if(a.splice(a,i,1),c)return;count--,i--}}var b={},c=0,e=[],f={XHTML:!1,FontSizeUnit:"px",FontSizeMax:48,ColorAllowAdvFormats:!1,QuoteTitleBackground:"#e4eaf2",QuoteBorder:"1px solid gray",QuoteBackground:"white",QuoteCSSClassName:"quotebox-{by}",CodeTitleBackground:"#ffc29c",CodeBorder:"1px solid gray",CodeBackground:"white",CodeCSSClassName:"codebox-{lang}",LinkUnderline:!0,LinkColor:"blue"},g=!0,h=!1,j=!0,k="[",l="]";d();var m;if(a){if(g="allOrNothing"in a?a.allOrNothing:g,h="handleOverlappingCodes"in a?a.handleOverlappingCodes:h,j="escapeContentOutput"in a?a.escapeContentOutput:j,k=a.codeStartSymbol||k,l=a.codeEndSymbol||l,a.settings)for(m in a.settings)f[m]=a.settings[m];if(a.codes)if(a.replaceDefaults)b=PHPC.copy(a.codes);else for(m in a.codes)b[m]=a.codes[m]}if(c=PHPC.count(b),b.GLOBAL||(b.GLOBAL=new DefaultGlobalBBCode),a&&a.allowedCodes)e=a.allowedCodes.slice(0);else for(m in b)e.push(m);this.format=function(a,d){var i=d&&"allOrNothing"in d?d.allOrNothing:g,m=d&&"handleOverlappingCodes"in d?d.handleOverlappingCodes:h,o=d&&"escapeContentOutput"in d?d.escapeContentOutput:j;return c>0&&e.length>0?n(a,e,f,b,i,m,o,k,l):a}}function BBCodeParser_MultiTokenizer(a,b){var c=0;void 0===b&&(b=0),a+="",c=a.length,b=PHPC.intval(b),this.isExhausted=function(){return b>=c},this.positionToEndToken=function(){return a.substring(b)},this.hasNextToken=function(d){return void 0===d&&(d=" "),-1!==a.indexOf(d,Math.min(c,b))},this.nextToken=function(d){if(void 0===d&&(d=" "),b>=c)return null;var e=a.indexOf(d,b);-1===e&&(e=c);var f=a.substring(b,e);return b=e+d.length,f},this.reset=function(){b=0}}function BBCodeParser_Token(a,b,c){this.type=BBCodeParser_Token.NONE,this.status=BBCodeParser_Token.UNDETERMINED,this.content="",this.argument=null,this.matches=null,void 0===c&&(c=null),this.type=a,this.content=b,this.status=this.type===BBCodeParser_Token.CONTENT?BBCodeParser_Token.VALID:BBCodeParser_Token.UNDETERMINED,this.argument=c}function DefaultGlobalBBCode(){this.getCodeName=function(){return"GLOBAL"},this.getDisplayName=function(){return"GLOBAL"},this.needsEnd=function(){return!1},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!1},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!1},this.isValidParent=function(){return!1},this.escape=function(a,b){return b},this.open=function(){return""},this.close=function(){return""}}function HTMLGlobalBBCode(){this.getCodeName=function(){return"GLOBAL"},this.getDisplayName=function(){return"GLOBAL"},this.needsEnd=function(){return!1},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!1},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!1},this.isValidParent=function(){return!1},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(){return""},this.close=function(){return""}}function HTMLBoldBBCode(){this.getCodeName=function(){return"Bold"},this.getDisplayName=function(){return"b"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!1},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!1},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(){return"<b>"},this.close=function(){return"</b>"}}function HTMLItalicBBCode(){this.getCodeName=function(){return"Italic"},this.getDisplayName=function(){return"i"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!1},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!1},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(){return"<i>"},this.close=function(){return"</i>"}}function HTMLUnderlineBBCode(){this.getCodeName=function(){return"Underline"},this.getDisplayName=function(){return"u"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!1},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!1},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(){return"<u>"},this.close=function(){return"</u>"}}function HTMLStrikeThroughBBCode(){this.getCodeName=function(){return"StrikeThrough"},this.getDisplayName=function(){return"s"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!1},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!1},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(){return"<s>"},this.close=function(){return"</s>"}}function HTMLFontSizeBBCode(){this.getCodeName=function(){return"Font Size"},this.getDisplayName=function(){return"size"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!0},this.mustHaveArgument=function(){return!0},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.isValidParent=function(){return!0},this.isValidArgument=function(a,b){return PHPC.intval(b)>0},this.isValidArgument=function(a,b){return!BBCodeParser.isValidKey(a,"FontSizeMax")||BBCodeParser.isValidKey(a,"FontSizeMax")&&PHPC.intval(a.FontSizeMax)<=0?PHPC.intval(b)>0:PHPC.intval(b)>0&&PHPC.intval(b)<=PHPC.intval(a.FontSizeMax)},this.open=function(a,b){return'<span style="font-size: '+PHPC.intval(b)+PHPC.htmlspecialchars(a.FontSizeUnit)+'">'},this.close=function(){return"</span>"}}function HTMLColorBBCode(){var a={aliceblue:"1",antiquewhite:"1",aqua:"1",aquamarine:"1",azure:"1",beige:"1",bisque:"1",black:"1",blanchedalmond:"1",blue:"1",blueviolet:"1",brown:"1",burlywood:"1",cadetblue:"1",chartreuse:"1",chocolate:"1",coral:"1",cornflowerblue:"1",cornsilk:"1",crimson:"1",cyan:"1",darkblue:"1",darkcyan:"1",darkgoldenrod:"1",darkgray:"1",darkgreen:"1",darkkhaki:"1",darkmagenta:"1",darkolivegreen:"1",darkorange:"1",darkorchid:"1",darkred:"1",darksalmon:"1",darkseagreen:"1",darkslateblue:"1",darkslategray:"1",darkturquoise:"1",darkviolet:"1",deeppink:"1",deepskyblue:"1",dimgray:"1",dodgerblue:"1",firebrick:"1",floralwhite:"1",forestgreen:"1",fuchsia:"1",gainsboro:"1",ghostwhite:"1",gold:"1",goldenrod:"1",gray:"1",green:"1",greenyellow:"1",honeydew:"1",hotpink:"1",indianred:"1",indigo:"1",ivory:"1",khaki:"1",lavender:"1",lavenderblush:"1",lawngreen:"1",lemonchiffon:"1",lightblue:"1",lightcoral:"1",lightcyan:"1",lightgoldenrodyellow:"1",lightgrey:"1",lightgreen:"1",lightpink:"1",lightsalmon:"1",lightseagreen:"1",lightskyblue:"1",lightslategray:"1",lightsteelblue:"1",lightyellow:"1",lime:"1",limegreen:"1",linen:"1",magenta:"1",maroon:"1",mediumaquamarine:"1",mediumblue:"1",mediumorchid:"1",mediumpurple:"1",mediumseagreen:"1",mediumslateblue:"1",mediumspringgreen:"1",mediumturquoise:"1",mediumvioletred:"1",midnightblue:"1",mintcream:"1",mistyrose:"1",moccasin:"1",navajowhite:"1",navy:"1",oldlace:"1",olive:"1",olivedrab:"1",orange:"1",orangered:"1",orchid:"1",palegoldenrod:"1",palegreen:"1",paleturquoise:"1",palevioletred:"1",papayawhip:"1",peachpuff:"1",peru:"1",pink:"1",plum:"1",powderblue:"1",purple:"1",red:"1",rosybrown:"1",royalblue:"1",saddlebrown:"1",salmon:"1",sandybrown:"1",seagreen:"1",seashell:"1",sienna:"1",silver:"1",skyblue:"1",slateblue:"1",slategray:"1",snow:"1",springgreen:"1",steelblue:"1",tan:"1",teal:"1",thistle:"1",tomato:"1",turquoise:"1",violet:"1",wheat:"1",white:"1",whitesmoke:"1",yellow:"1",yellowgreen:"1"};this.getCodeName=function(){return"Color"},this.getDisplayName=function(){return"color"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!0},this.mustHaveArgument=function(){return!0},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(b,c){return null===c||void 0===c?!1:BBCodeParser.isValidKey(a,c.toLowerCase())||null!=c.match(/^#[\dabcdef]{3}$/i)||null!=c.match(/^#[\dabcdef]{6}$/i)?!0:BBCodeParser.isValidKey(b,"ColorAllowAdvFormats")&&b.ColorAllowAdvFormats&&(c.match(/^rgb\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\)$/i).length>0||c.match(/^rgba\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*((0?\.\d+)|1|0)\s*\)$/i).length>0||c.match(/^hsl\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}\s+%\)$/i).length>0||c.match(/^hsla\(\s*\d{1,3}\s*,\s*\d{1,3}\s+%,\s*\d{1,3}\s+%,\s*((0?\.\d+)|1|0)\s*\)$/i).length>0)?!0:!1},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(a,b){return'<span style="color: '+PHPC.htmlspecialchars(b)+'">'},this.close=function(){return"</span>"}}function HTMLFontBBCode(){this.getCodeName=function(){return"Font"},this.getDisplayName=function(){return"font"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!0},this.mustHaveArgument=function(){return!0},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(a,b){return null!==b},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(a,b){return"<span style=\"font-family: '"+PHPC.htmlspecialchars(b)+"'\">"},this.close=function(){return"</span>"}}function HTMLLeftBBCode(){this.getCodeName=function(){return"Left"},this.getDisplayName=function(){return"left"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!1},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!1},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(a,b,c){return void 0===c&&(c=null),null===c?'<div style="display: block; text-align: left">':""},this.close=function(a,b,c){return void 0===c&&(c=null),null===c?"</div>":""}}function HTMLCenterBBCode(){this.getCodeName=function(){return"Center"},this.getDisplayName=function(){return"center"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!1},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!1},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(a,b,c){return void 0===c&&(c=null),null===c?'<div style="display: block; text-align: center">':""},this.close=function(a,b,c){return void 0===c&&(c=null),null===c?"</div>":""}}function HTMLRightBBCode(){this.getCodeName=function(){return"Right"},this.getDisplayName=function(){return"right"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!1},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!1},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(a,b,c){return void 0===c&&(c=null),null===c?'<div style="display: block; text-align: right">':""},this.close=function(a,b,c){return void 0===c&&(c=null),null===c?"</div>":""}}function HTMLQuoteBBCode(){this.getCodeName=function(){return"Quote"},this.getDisplayName=function(){return"quote"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!0},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!0},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(a,b,c){if(void 0===c&&(c=null),null===c){var d="<div ";return b&&(d+='class="'+PHPC.htmlspecialchars(a.QuoteCSSClassName.replace("{by}",b))+'"'),d+='style="display: block; margin-bottom: .5em; border: '+PHPC.htmlspecialchars(a.QuoteBorder)+"; background-color: "+PHPC.htmlspecialchars(a.QuoteBackground)+'">',d+='<div style="display: block; width: 100%; text-indent: .25em; border-bottom: '+PHPC.htmlspecialchars(a.QuoteBorder)+"; background-color: "+PHPC.htmlspecialchars(a.QuoteTitleBackground)+'">',d+="QUOTE",b&&(d+=" by "+PHPC.htmlspecialchars(b)),d+="</div>",d+='<div style="overflow-x: auto; padding: .25em">'}},this.close=function(a,b,c){return void 0===c&&(c=null),null===c?"</div></div>":""}}function HTMLCodeBBCode(){this.getCodeName=function(){return"Code"},this.getDisplayName=function(){return"code"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!1},this.canHaveArgument=function(){return!0},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!0},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(a,b,c){if(void 0===c&&(c=null),null===c){var d='<div style="display: block; margin-bottom: .5em; border: '+PHPC.htmlspecialchars(a.CodeBorder)+"; background-color: "+PHPC.htmlspecialchars(a.CodeBackground)+'">';return d+='<div style="display: block; width: 100%; text-indent: .25em; border-bottom: '+PHPC.htmlspecialchars(a.CodeBorder)+"; background-color: "+PHPC.htmlspecialchars(a.CodeTitleBackground)+'">',d+="CODE",b&&(d+=" ("+PHPC.htmlspecialchars(b)+")"),d+="</div><pre ",b&&(d+='class="'+PHPC.htmlspecialchars(str_replace("{lang}",b,a.CodeCSSClassName))+'" '),d+='style="overflow-x: auto; margin: 0; font-family: monospace; white-space: pre-wrap; padding: .25em">'}return""},this.close=function(a,b,c){return void 0===c&&(c=null),null===c?"</pre></div>":""}}function HTMLCodeBoxBBCode(){this.getCodeName=function(){return"Code Box"},this.getDisplayName=function(){return"codebox"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!1},this.canHaveArgument=function(){return!0},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!0},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(a,b,c){if(void 0===c&&(c=null),null===c){var d='<div style="display: block; margin-bottom: .5em; border: '+PHPC.htmlspecialchars(a.CodeBorder)+"; background-color: "+PHPC.htmlspecialchars(a.CodeBackground)+'">';return d+='<div style="display: block; width: 100%; text-indent: .25em; border-bottom: '+PHPC.htmlspecialchars(a.CodeBorder)+"; background-color: "+PHPC.htmlspecialchars(a.CodeTitleBackground)+'">',d+="CODE",b&&(d+=" ("+PHPC.htmlspecialchars(b)+")"),d+="</div><pre ",b&&(d+='class="'+PHPC.htmlspecialchars(str_replace("{lang}",b,a.CodeCSSClassName))+'" '),d+='style="height: 29ex; overflow-y: auto; margin: 0; font-family: monospace; white-space: pre-wrap; padding: .25em">'}return""},this.close=function(a,b,c){return void 0===c&&(c=null),null===c?"</pre></div>":""}}function HTMLLinkBBCode(){this.getCodeName=function(){return"Link"},this.getDisplayName=function(){return"url"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!0},this.mustHaveArgument=function(){return!0},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!0},this.isValidParent=function(a,b){return b!==this.getDisplayName()},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(a,b){var d=!BBCodeParser.isValidKey(a,"LinkUnderline")||a.LinkUnderline?"underline":"none";return'<a style="text-decoration: '+d+"; color: "+PHPC.htmlspecialchars(a.LinkColor)+'" href="'+PHPC.htmlspecialchars(b)+'">'},this.close=function(){return"</a>"}}function HTMLImageBBCode(){this.getCodeName=function(){return"Image"},this.getDisplayName=function(){return"img"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!1},this.canHaveArgument=function(){return!0},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(a,b){if(null===b||void 0===b)return!0;var c=b.split("x");if(2===c.length){var d=PHPC.floatval(c[0]),e=PHPC.floatval(c[1]);return d===Math.floor(d)&&e===Math.floor(e)}return!1},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(a,b,c){return void 0===c&&(c=null),null===c?'<img src="':""},this.close=function(a,b,c){if(void 0===c&&(c=null),null===c){if(b){var d=b.split("x"),e=PHPC.intval(d[0]),f=PHPC.intval(d[1]);return BBCodeParser.isValidKey(a,"ImageMaxWidth")&&0!==PHPC.intval(a.ImageMaxWidth)&&(e=Math.min(e,PHPC.intval(a.ImageMaxWidth))),BBCodeParser.isValidKey(a,"ImageMaxHeight")&&0!==PHPC.intval(a.ImageMaxHeight)&&(f=Math.min(f,PHPC.intval(a.ImageMaxHeight))),'" alt="image" style="width: '+e+"; height: "+f+'"'+(a.XHTML?"/>":">")}return'" alt="image"'+(a.XHTML?"/>":">")}return""}}function HTMLUnorderedListBBCode(){var a={circle:"circle",disk:"disk",square:"square"};this.getCodeName=function(){return"Unordered List"},this.getDisplayName=function(){return"ul"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!0},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(b,c){return null===c||void 0===c?!0:BBCodeParser.isValidKey(a,c)},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(b,c,d){if(void 0===d&&(d=null),null===d){var e=null;return BBCodeParser.isValidKey(a,c)&&(e=a[c]),!e&&BBCodeParser.isValidKey(b,"UnorderedListDefaultType")&&BBCodeParser.isValidKey(a,b.UnorderedListDefaultType)&&(e=a[b.UnorderedListDefaultType]),e||(e=a.disk),'<ul style="list-style-type: '+PHPC.htmlspecialchars(e)+'">'}return""},this.close=function(a,b,c){return void 0===c&&(c=null),null===c?"</ul>":""}}function HTMLOrderedListBBCode(){var a={1:"decimal",a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};this.getCodeName=function(){return"Unordered List"},this.getDisplayName=function(){return"ol"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!0},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(b,c){return null===c||void 0===c?!0:BBCodeParser.isValidKey(a,c)},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(b,c,d){if(void 0===d&&(d=null),null===d){var e=null;return BBCodeParser.isValidKey(a,c)&&(e=a[c]),!e&&BBCodeParser.isValidKey(b,"OrderedListDefaultType")&&BBCodeParser.isValidKey(a,b.OrderedListDefaultType)&&(e=a[b.OrderedListDefaultType]),e||(e=a["1"]),'<ol style="list-style-type: '+PHPC.htmlspecialchars(e)+'">'}return""},this.close=function(a,b,c){return void 0===c&&(c=null),null===c?"</ol>":""}}function HTMLListItemBBCode(){this.getCodeName=function(){return"List Item"},this.getDisplayName=function(){return"li"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!1},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!1},this.isValidParent=function(a,b){return"ul"===b||"ol"===b},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(){return"<li>"},this.close=function(){return"</li>"}}function HTMLListBBCode(){function c(c,d){var e=null;return BBCodeParser.isValidKey(a,d)&&(e=a[d]),!e&&BBCodeParser.isValidKey(b,d)&&(e=b[d]),!e&&BBCodeParser.isValidKey(c,"ListDefaultType")&&(e=a[c.ListDefaultType]),!e&&BBCodeParser.isValidKey(c,"ListDefaultType")&&(e=b[c.ListDefaultType]),e||(e=a.disk),e}var a={circle:"circle",disk:"disk",square:"square"},b={1:"decimal",a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};this.getCodeName=function(){return"List"},this.getDisplayName=function(){return"list"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!0},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return null},this.getAutoCloseCodeOnClose=function(){return"*"},this.isValidArgument=function(c,d){return null===d||void 0===d?!0:BBCodeParser.isValidKey(b,d)||BBCodeParser.isValidKey(a,d)},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(a,d,e){return void 0===e&&(e=null),null===e?(key=c(a,d),"<"+(BBCodeParser.isValidKey(b,key)?"ol":"ul")+' style="list-style-type: '+PHPC.htmlspecialchars(d)+'">'):""},this.close=function(a,d,e){if(void 0===e&&(e=null),null===e){var f=c(a,d);return"</"+(BBCodeParser.isValidKey(b,f)?"ol":"ul")+">"}return""}}function HTMLStarBBCode(){this.getCodeName=function(){return"Star"},this.getDisplayName=function(){return"*"},this.needsEnd=function(){return!0},this.canHaveCodeContent=function(){return!0},this.canHaveArgument=function(){return!1},this.mustHaveArgument=function(){return!1},this.getAutoCloseCodeOnOpen=function(){return"*"},this.getAutoCloseCodeOnClose=function(){return null},this.isValidArgument=function(){return!1},this.isValidParent=function(){return!0},this.escape=function(a,b){return PHPC.htmlspecialchars(b)},this.open=function(){return"<li>"},this.close=function(){return"</li>"}}var PHPC={count:function(a){var b=0;for(var c in a)b++;return b},in_array:function(a,b){if(b.indexOf)return-1!==b.indexOf(a);for(var c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},floatval:function(a){return parseFloat(a)||0},intval:function(a){var b=Number(a);return isNaN(b)?0:b},htmlspecialchars:function(a){return a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""},copy:function(a){if(!a)return a;var b={};for(var c in a)b[c]=a;return b}};BBCodeParser.isValidKey=function(a,b){return b in a&&void 0!==a[b]&&null!==a[b]},BBCodeParser_Token.NONE="NONE",BBCodeParser_Token.CODE_START="CODE_START",BBCodeParser_Token.CODE_END="CODE_END",BBCodeParser_Token.CONTENT="CONTENT",BBCodeParser_Token.VALID="VALID",BBCodeParser_Token.INVALID="INVALID",BBCodeParser_Token.NOTALLOWED="NOTALLOWED",BBCodeParser_Token.NOIMPLFOUND="NOIMPLFOUND",BBCodeParser_Token.UNDETERMINED="UNDETERMINED",DefaultGlobalBBCode.prototype=new BBCode,HTMLGlobalBBCode.prototype=new BBCode,HTMLBoldBBCode.prototype=new BBCode,HTMLItalicBBCode.prototype=new BBCode,HTMLUnderlineBBCode.prototype=new BBCode,HTMLStrikeThroughBBCode.prototype=new BBCode,HTMLFontSizeBBCode.prototype=new BBCode,HTMLColorBBCode.prototype=new BBCode,HTMLFontBBCode.prototype=new BBCode,HTMLLeftBBCode.prototype=new BBCode,HTMLCenterBBCode.prototype=new BBCode,HTMLRightBBCode.prototype=new BBCode,HTMLQuoteBBCode.prototype=new BBCode,HTMLCodeBBCode.prototype=new BBCode,HTMLCodeBoxBBCode.prototype=new BBCode,HTMLLinkBBCode.prototype=new BBCode,HTMLImageBBCode.prototype=new BBCode,HTMLUnorderedListBBCode.prototype=new BBCode,HTMLOrderedListBBCode.prototype=new BBCode,HTMLListItemBBCode.prototype=new BBCode,HTMLListBBCode.prototype=new BBCode,HTMLStarBBCode.prototype=new BBCode;


/**
 * marked - a markdown parser
 * Copyright (c) 2011-2013, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */
(function(){var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:j,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:j,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:j,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};d.bullet=/(?:[*+-]|\d+\.)/;d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;d.item=c(d.item,"gm")(/bull/g,d.bullet)();d.list=c(d.list)(/bull/g,d.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b";d.html=c(d.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,d._tag)();d.paragraph=c(d.paragraph)("hr",d.hr)("heading",d.heading)("lheading",d.lheading)("blockquote",d.blockquote)("tag","<"+d._tag)("def",d.def)();d.normal=g({},d);d.gfm=g({},d.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/});d.gfm.paragraph=c(d.paragraph)("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|")();d.tables=g({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function b(k){this.tokens=[];this.tokens.links={};this.options=k||a.defaults;this.rules=d.normal;if(this.options.gfm){if(this.options.tables){this.rules=d.tables}else{this.rules=d.gfm}}}b.rules=d;b.lex=function(m,k){var l=new b(k);return l.lex(m)};b.prototype.lex=function(k){k=k.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(k,true)};b.prototype.token=function(m,s){var m=m.replace(/^ +$/gm,""),q,o,u,r,t,v,k,p,n;while(m){if(u=this.rules.newline.exec(m)){m=m.substring(u[0].length);if(u[0].length>1){this.tokens.push({type:"space"})}}if(u=this.rules.code.exec(m)){m=m.substring(u[0].length);u=u[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?u.replace(/\n+$/,""):u});continue}if(u=this.rules.fences.exec(m)){m=m.substring(u[0].length);this.tokens.push({type:"code",lang:u[2],text:u[3]});continue}if(u=this.rules.heading.exec(m)){m=m.substring(u[0].length);this.tokens.push({type:"heading",depth:u[1].length,text:u[2]});continue}if(s&&(u=this.rules.nptable.exec(m))){m=m.substring(u[0].length);v={type:"table",header:u[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3].replace(/\n$/,"").split("\n")};for(p=0;p<v.align.length;p++){if(/^ *-+: *$/.test(v.align[p])){v.align[p]="right"}else{if(/^ *:-+: *$/.test(v.align[p])){v.align[p]="center"}else{if(/^ *:-+ *$/.test(v.align[p])){v.align[p]="left"}else{v.align[p]=null}}}}for(p=0;p<v.cells.length;p++){v.cells[p]=v.cells[p].split(/ *\| */)}this.tokens.push(v);continue}if(u=this.rules.lheading.exec(m)){m=m.substring(u[0].length);this.tokens.push({type:"heading",depth:u[2]==="="?1:2,text:u[1]});continue}if(u=this.rules.hr.exec(m)){m=m.substring(u[0].length);this.tokens.push({type:"hr"});continue}if(u=this.rules.blockquote.exec(m)){m=m.substring(u[0].length);this.tokens.push({type:"blockquote_start"});u=u[0].replace(/^ *> ?/gm,"");this.token(u,s);this.tokens.push({type:"blockquote_end"});continue}if(u=this.rules.list.exec(m)){m=m.substring(u[0].length);r=u[2];this.tokens.push({type:"list_start",ordered:r.length>1});u=u[0].match(this.rules.item);q=false;n=u.length;p=0;for(;p<n;p++){v=u[p];k=v.length;v=v.replace(/^ *([*+-]|\d+\.) +/,"");if(~v.indexOf("\n ")){k-=v.length;v=!this.options.pedantic?v.replace(new RegExp("^ {1,"+k+"}","gm"),""):v.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&p!==n-1){t=d.bullet.exec(u[p+1])[0];if(r!==t&&!(r.length>1&&t.length>1)){m=u.slice(p+1).join("\n")+m;p=n-1}}o=q||/\n\n(?!\s*$)/.test(v);if(p!==n-1){q=v[v.length-1]==="\n";if(!o){o=q}}this.tokens.push({type:o?"loose_item_start":"list_item_start"});this.token(v,false);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(u=this.rules.html.exec(m)){m=m.substring(u[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:u[1]==="pre"||u[1]==="script",text:u[0]});continue}if(s&&(u=this.rules.def.exec(m))){m=m.substring(u[0].length);this.tokens.links[u[1].toLowerCase()]={href:u[2],title:u[3]};continue}if(s&&(u=this.rules.table.exec(m))){m=m.substring(u[0].length);v={type:"table",header:u[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:u[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(p=0;p<v.align.length;p++){if(/^ *-+: *$/.test(v.align[p])){v.align[p]="right"}else{if(/^ *:-+: *$/.test(v.align[p])){v.align[p]="center"}else{if(/^ *:-+ *$/.test(v.align[p])){v.align[p]="left"}else{v.align[p]=null}}}}for(p=0;p<v.cells.length;p++){v.cells[p]=v.cells[p].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(v);continue}if(s&&(u=this.rules.paragraph.exec(m))){m=m.substring(u[0].length);this.tokens.push({type:"paragraph",text:u[1][u[1].length-1]==="\n"?u[1].slice(0,-1):u[1]});continue}if(u=this.rules.text.exec(m)){m=m.substring(u[0].length);this.tokens.push({type:"text",text:u[0]});continue}if(m){throw new Error("Infinite loop on byte: "+m.charCodeAt(0))}}return this.tokens};var f={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:j,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:j,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};f._inside=/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/;f._href=/\s*<?([^\s]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;f.link=c(f.link)("inside",f._inside)("href",f._href)();f.reflink=c(f.reflink)("inside",f._inside)();f.normal=g({},f);f.pedantic=g({},f.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});f.gfm=g({},f.normal,{escape:c(f.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:c(f.text)("]|","~]|")("|","|https?://|")()});f.breaks=g({},f.gfm,{br:c(f.br)("{2,}","*")(),text:c(f.gfm.text)("{2,}","*")()});function h(k,l){this.options=l||a.defaults;this.links=k;this.rules=f.normal;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=f.breaks}else{this.rules=f.gfm}}else{if(this.options.pedantic){this.rules=f.pedantic}}}h.rules=f;h.output=function(n,k,l){var m=new h(k,l);return m.output(n)};h.prototype.output=function(p){var l="",n,o,k,m;while(p){if(m=this.rules.escape.exec(p)){p=p.substring(m[0].length);l+=m[1];continue}if(m=this.rules.autolink.exec(p)){p=p.substring(m[0].length);if(m[2]==="@"){o=m[1][6]===":"?this.mangle(m[1].substring(7)):this.mangle(m[1]);k=this.mangle("mailto:")+o}else{o=i(m[1]);k=o}l+='<a href="'+k+'" target="_blank">'+o+"</a>";continue}if(m=this.rules.url.exec(p)){p=p.substring(m[0].length);o=i(m[1]);k=o;l+='<a href="'+k+'" target="_blank">'+o+"</a>";continue}if(m=this.rules.tag.exec(p)){p=p.substring(m[0].length);l+=this.options.sanitize?i(m[0]):m[0];continue}if(m=this.rules.link.exec(p)){p=p.substring(m[0].length);l+=this.outputLink(m,{href:m[2],title:m[3]});continue}if((m=this.rules.reflink.exec(p))||(m=this.rules.nolink.exec(p))){p=p.substring(m[0].length);n=(m[2]||m[1]).replace(/\s+/g," ");n=this.links[n.toLowerCase()];if(!n||!n.href){l+=m[0][0];p=m[0].substring(1)+p;continue}l+=this.outputLink(m,n);continue}if(m=this.rules.strong.exec(p)){p=p.substring(m[0].length);l+="<strong>"+this.output(m[2]||m[1])+"</strong>";continue}if(m=this.rules.em.exec(p)){p=p.substring(m[0].length);l+="<em>"+this.output(m[2]||m[1])+"</em>";continue}if(m=this.rules.code.exec(p)){p=p.substring(m[0].length);l+="<code>"+i(m[2],true)+"</code>";continue}if(m=this.rules.br.exec(p)){p=p.substring(m[0].length);l+="<br>";continue}if(m=this.rules.del.exec(p)){p=p.substring(m[0].length);l+="<del>"+this.output(m[1])+"</del>";continue}if(m=this.rules.text.exec(p)){p=p.substring(m[0].length);l+=i(this.smartypants(m[0]));continue}if(p){throw new Error("Infinite loop on byte: "+p.charCodeAt(0))}}return l};h.prototype.outputLink=function(k,l){if(k[0][0]!=="!"){return'<a href="'+i(l.href)+'"'+(l.title?' title="'+i(l.title)+'"':"")+' target="_blank">'+this.output(k[1])+"</a>"}else{return'<img src="'+i(l.href)+'" alt="'+i(k[1])+'"'+(l.title?' title="'+i(l.title)+'"':"")+">"}};h.prototype.smartypants=function(k){if(!this.options.smartypants){return k}return k.replace(/--/g,"\u2014").replace(/'([^']*)'/g,"\u2018$1\u2019").replace(/"([^"]*)"/g,"\u201C$1\u201D").replace(/\.{3}/g,"\u2026")};h.prototype.mangle=function(p){var m="",k=p.length,n=0,o;for(;n<k;n++){o=p.charCodeAt(n);if(Math.random()>0.5){o="x"+o.toString(16)}m+="&#"+o+";"}return m};function e(k){this.tokens=[];this.token=null;this.options=k||a.defaults}e.parse=function(l,k){var m=new e(k);return m.parse(l)};e.prototype.parse=function(l){this.inline=new h(l.links,this.options);this.tokens=l.reverse();var k="";while(this.next()){k+=this.tok()}return k};e.prototype.next=function(){return this.token=this.tokens.pop()};e.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};e.prototype.parseText=function(){var k=this.token.text;while(this.peek().type==="text"){k+="\n"+this.next().text}return this.inline.output(k)};e.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+this.token.depth+">"+this.inline.output(this.token.text)+"</h"+this.token.depth+">\n";case"code":if(this.options.highlight){var p=this.options.highlight(this.token.text,this.token.lang);if(p!=null&&p!==this.token.text){this.token.escaped=true;this.token.text=p}}if(!this.token.escaped){this.token.text=i(this.token.text,true)}return"<pre><code"+(this.token.lang?' class="'+this.options.langPrefix+this.token.lang+'"':"")+">"+this.token.text+"</code></pre>\n";case"table":var l="",q,n,r,k,m;l+="<thead>\n<tr>\n";for(n=0;n<this.token.header.length;n++){q=this.inline.output(this.token.header[n]);l+=this.token.align[n]?'<th align="'+this.token.align[n]+'">'+q+"</th>\n":"<th>"+q+"</th>\n"}l+="</tr>\n</thead>\n";l+="<tbody>\n";for(n=0;n<this.token.cells.length;n++){r=this.token.cells[n];l+="<tr>\n";for(m=0;m<r.length;m++){k=this.inline.output(r[m]);l+=this.token.align[m]?'<td align="'+this.token.align[m]+'">'+k+"</td>\n":"<td>"+k+"</td>\n"}l+="</tr>\n"}l+="</tbody>\n";return"<table>\n"+l+"</table>\n";case"blockquote_start":var l="";while(this.next().type!=="blockquote_end"){l+=this.tok()}return"<blockquote>\n"+l+"</blockquote>\n";case"list_start":var o=this.token.ordered?"ol":"ul",l="";while(this.next().type!=="list_end"){l+=this.tok()}return"<"+o+">\n"+l+"</"+o+">\n";case"list_item_start":var l="";while(this.next().type!=="list_item_end"){l+=this.token.type==="text"?this.parseText():this.tok()}return"<li>"+l+"</li>\n";case"loose_item_start":var l="";while(this.next().type!=="list_item_end"){l+=this.tok()}return"<li>"+l+"</li>\n";case"html":return !this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;case"paragraph":return"<p>"+this.inline.output(this.token.text)+"</p>\n";case"text":return"<p>"+this.parseText()+"</p>\n"}};function i(k,l){return k.replace(!l?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(m,l){m=m.source;l=l||"";return function k(n,o){if(!n){return new RegExp(m,l)}o=o.source||o;o=o.replace(/(^|[^\[])\^/g,"$1");m=m.replace(n,o);return k}}function j(){}j.exec=j;function g(n){var l=1,m,k;for(;l<arguments.length;l++){m=arguments[l];for(k in m){if(Object.prototype.hasOwnProperty.call(m,k)){n[k]=m[k]}}}return n}function a(k,m,s){if(s||typeof m==="function"){if(!s){s=m;m=null}if(m){m=g({},a.defaults,m)}var n=m.highlight,r,l,p=0;try{r=b.lex(k,m)}catch(q){return s(q)}l=r.length;var o=function(u){var t,v;if(u!==true){delete m.highlight}try{t=e.parse(r,m)}catch(w){v=w}m.highlight=n;return v?s(v):s(null,t)};if(!n||n.length<3){return o(true)}if(!l){return o()}for(;p<r.length;p++){(function(t){if(t.type!=="code"){return --l||o()}return n(t.text,t.lang,function(v,u){if(u==null||u===t.text){return --l||o()}t.text=u;t.escaped=true;--l||o()})})(r[p])}return}try{if(m){m=g({},a.defaults,m)}return e.parse(b.lex(k,m),m)}catch(q){q.message+="\nPlease report this to https://github.com/chjj/marked.";if((m||a.defaults).silent){return"<p>An error occured:</p><pre>"+i(q.message+"",true)+"</pre>"}throw q}}a.options=a.setOptions=function(k){g(a.defaults,k);return a};a.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false};a.Parser=e;a.parser=e.parse;a.Lexer=b;a.lexer=b.lex;a.InlineLexer=h;a.inlineLexer=h.output;a.parse=a;if(typeof exports==="object"){module.exports=a}else{if(typeof define==="function"&&define.amd){define(function(){return a})}else{this.marked=a}}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());

// moment.js
// version : 2.0.0
// author : Tim Wood
// license : MIT
// momentjs.com
(function(e){function O(e,t){return function(n){return j(e.call(this,n),t)}}function M(e){return function(t){return this.lang().ordinal(e.call(this,t))}}function _(){}function D(e){H(this,e)}function P(e){var t=this._data={},n=e.years||e.year||e.y||0,r=e.months||e.month||e.M||0,i=e.weeks||e.week||e.w||0,s=e.days||e.day||e.d||0,o=e.hours||e.hour||e.h||0,u=e.minutes||e.minute||e.m||0,a=e.seconds||e.second||e.s||0,f=e.milliseconds||e.millisecond||e.ms||0;this._milliseconds=f+a*1e3+u*6e4+o*36e5,this._days=s+i*7,this._months=r+n*12,t.milliseconds=f%1e3,a+=B(f/1e3),t.seconds=a%60,u+=B(a/60),t.minutes=u%60,o+=B(u/60),t.hours=o%24,s+=B(o/24),s+=i*7,t.days=s%30,r+=B(s/30),t.months=r%12,n+=B(r/12),t.years=n}function H(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function B(e){return e<0?Math.ceil(e):Math.floor(e)}function j(e,t){var n=e+"";while(n.length<t)n="0"+n;return n}function F(e,t,n){var r=t._milliseconds,i=t._days,s=t._months,o;r&&e._d.setTime(+e+r*n),i&&e.date(e.date()+i*n),s&&(o=e.date(),e.date(1).month(e.month()+s*n).date(Math.min(o,e.daysInMonth())))}function I(e){return Object.prototype.toString.call(e)==="[object Array]"}function q(e,t){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,s;for(s=0;s<n;s++)~~e[s]!==~~t[s]&&i++;return i+r}function R(e,t){return t.abbr=e,s[e]||(s[e]=new _),s[e].set(t),s[e]}function U(e){return e?(!s[e]&&o&&require("./lang/"+e),s[e]):t.fn._lang}function z(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t=e.match(a),n,r;for(n=0,r=t.length;n<r;n++)A[t[n]]?t[n]=A[t[n]]:t[n]=z(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=typeof t[n].call=="function"?t[n].call(i,e):t[n];return s}}function X(e,t){function r(t){return e.lang().longDateFormat(t)||t}var n=5;while(n--&&f.test(t))t=t.replace(f,r);return C[t]||(C[t]=W(t)),C[t](e)}function V(e){switch(e){case"DDDD":return p;case"YYYY":return d;case"YYYYY":return v;case"S":case"SS":case"SSS":case"DDD":return h;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return m;case"X":return b;case"Z":case"ZZ":return g;case"T":return y;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return c;default:return new RegExp(e.replace("\\",""))}}function $(e,t,n){var r,i,s=n._a;switch(e){case"M":case"MM":s[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":r=U(n._l).monthsParse(t),r!=null?s[1]=r:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":t!=null&&(s[2]=~~t);break;case"YY":s[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":s[0]=~~t;break;case"a":case"A":n._isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":s[3]=~~t;break;case"m":case"mm":s[4]=~~t;break;case"s":case"ss":s[5]=~~t;break;case"S":case"SS":case"SSS":s[6]=~~(("0."+t)*1e3);break;case"X":n._d=new Date(parseFloat(t)*1e3);break;case"Z":case"ZZ":n._useUTC=!0,r=(t+"").match(x),r&&r[1]&&(n._tzh=~~r[1]),r&&r[2]&&(n._tzm=~~r[2]),r&&r[0]==="+"&&(n._tzh=-n._tzh,n._tzm=-n._tzm)}t==null&&(n._isValid=!1)}function J(e){var t,n,r=[];if(e._d)return;for(t=0;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];r[3]+=e._tzh||0,r[4]+=e._tzm||0,n=new Date(0),e._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),e._d=n}function K(e){var t=e._f.match(a),n=e._i,r,i;e._a=[];for(r=0;r<t.length;r++)i=(V(t[r]).exec(n)||[])[0],i&&(n=n.slice(n.indexOf(i)+i.length)),A[t[r]]&&$(t[r],i,e);e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&e._a[3]===12&&(e._a[3]=0),J(e)}function Q(e){var t,n,r,i=99,s,o,u;while(e._f.length){t=H({},e),t._f=e._f.pop(),K(t),n=new D(t);if(n.isValid()){r=n;break}u=q(t._a,n.toArray()),u<i&&(i=u,r=n)}H(e,r)}function G(e){var t,n=e._i;if(w.exec(n)){e._f="YYYY-MM-DDT";for(t=0;t<4;t++)if(S[t][1].exec(n)){e._f+=S[t][0];break}g.exec(n)&&(e._f+=" Z"),K(e)}else e._d=new Date(n)}function Y(t){var n=t._i,r=u.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):typeof n=="string"?G(t):I(n)?(t._a=n.slice(0),J(t)):t._d=n instanceof Date?new Date(+n):new Date(n)}function Z(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function et(e,t,n){var i=r(Math.abs(e)/1e3),s=r(i/60),o=r(s/60),u=r(o/24),a=r(u/365),f=i<45&&["s",i]||s===1&&["m"]||s<45&&["mm",s]||o===1&&["h"]||o<22&&["hh",o]||u===1&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",r(u/30)]||a===1&&["y"]||["yy",a];return f[2]=t,f[3]=e>0,f[4]=n,Z.apply({},f)}function tt(e,n,r){var i=r-n,s=r-e.day();return s>i&&(s-=7),s<i-7&&(s+=7),Math.ceil(t(e).add("d",s).dayOfYear()/7)}function nt(e){var n=e._i,r=e._f;return n===null||n===""?null:(typeof n=="string"&&(e._i=n=U().preparse(n)),t.isMoment(n)?(e=H({},n),e._d=new Date(+n._d)):r?I(r)?Q(e):K(e):Y(e),new D(e))}function rt(e,n){t.fn[e]=t.fn[e+"s"]=function(e){var t=this._isUTC?"UTC":"";return e!=null?(this._d["set"+t+n](e),this):this._d["get"+t+n]()}}function it(e){t.duration.fn[e]=function(){return this._data[e]}}function st(e,n){t.duration.fn["as"+e]=function(){return+this/n}}var t,n="2.0.0",r=Math.round,i,s={},o=typeof module!="undefined"&&module.exports,u=/^\/?Date\((\-?\d+)/i,a=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,f=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,l=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,c=/\d\d?/,h=/\d{1,3}/,p=/\d{3}/,d=/\d{1,4}/,v=/[+\-]?\d{1,6}/,m=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,g=/Z|[\+\-]\d\d:?\d\d/i,y=/T/i,b=/[\+\-]?\d+(\.\d{1,3})?/,w=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,E="YYYY-MM-DDTHH:mm:ssZ",S=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],x=/([\+\-]|\d\d)/gi,T="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),N={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},C={},k="DDD w W M D d".split(" "),L="M D H h m s w W".split(" "),A={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return j(this.year()%100,2)},YYYY:function(){return j(this.year(),4)},YYYYY:function(){return j(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return j(~~(this.milliseconds()/10),2)},SSS:function(){return j(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+j(~~(e/60),2)+":"+j(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+j(~~(10*e/6),4)},X:function(){return this.unix()}};while(k.length)i=k.pop(),A[i+"o"]=M(A[i]);while(L.length)i=L.pop(),A[i+i]=O(A[i],2);A.DDDD=O(A.DDD,3),_.prototype={set:function(e){var t,n;for(n in e)t=e[n],typeof t=="function"?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var n,r,i,s;this._monthsParse||(this._monthsParse=[]);for(n=0;n<12;n++){this._monthsParse[n]||(r=t([2e3,n]),i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i"));if(this._monthsParse[n].test(e))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return typeof n=="function"?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return typeof i=="function"?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return typeof n=="function"?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return tt(e,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},t=function(e,t,n){return nt({_i:e,_f:t,_l:n,_isUTC:!1})},t.utc=function(e,t,n){return nt({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},t.unix=function(e){return t(e*1e3)},t.duration=function(e,n){var r=t.isDuration(e),i=typeof e=="number",s=r?e._data:i?{}:e,o;return i&&(n?s[n]=e:s.milliseconds=e),o=new P(s),r&&e.hasOwnProperty("_lang")&&(o._lang=e._lang),o},t.version=n,t.defaultFormat=E,t.lang=function(e,n){var r;if(!e)return t.fn._lang._abbr;n?R(e,n):s[e]||U(e),t.duration.fn._lang=t.fn._lang=U(e)},t.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),U(e)},t.isMoment=function(e){return e instanceof D},t.isDuration=function(e){return e instanceof P},t.fn=D.prototype={clone:function(){return t(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return t.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return this._isValid==null&&(this._a?this._isValid=!q(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(e){var n=X(this,e||t.defaultFormat);return this.lang().postformat(n)},add:function(e,n){var r;return typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),F(this,r,1),this},subtract:function(e,n){var r;return typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),F(this,r,-1),this},diff:function(e,n,r){var i=this._isUTC?t(e).utc():t(e).local(),s=(this.zone()-i.zone())*6e4,o,u;return n&&(n=n.replace(/s$/,"")),n==="year"||n==="month"?(o=(this.daysInMonth()+i.daysInMonth())*432e5,u=(this.year()-i.year())*12+(this.month()-i.month()),u+=(this-t(this).startOf("month")-(i-t(i).startOf("month")))/o,n==="year"&&(u/=12)):(o=this-i-s,u=n==="second"?o/1e3:n==="minute"?o/6e4:n==="hour"?o/36e5:n==="day"?o/864e5:n==="week"?o/6048e5:o),r?u:B(u)},from:function(e,n){return t.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!n)},fromNow:function(e){return this.from(t(),e)},calendar:function(){var e=this.diff(t().startOf("day"),"days",!0),n=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<t([this.year()]).zone()||this.zone()<t([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e==null?t:this.add({d:e-t})},startOf:function(e){e=e.replace(/s$/,"");switch(e){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return e==="week"&&this.day(0),this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)>+t(e).startOf(n)},isBefore:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)<+t(e).startOf(n)},isSame:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)===+t(e).startOf(n)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return t.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var n=r((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return e==null?n:this.add("d",e-n)},isoWeek:function(e){var t=tt(this,1,4);return e==null?t:this.add("d",(e-t)*7)},week:function(e){var t=this.lang().week(this);return e==null?t:this.add("d",(e-t)*7)},lang:function(t){return t===e?this._lang:(this._lang=U(t),this)}};for(i=0;i<T.length;i++)rt(T[i].toLowerCase().replace(/s$/,""),T[i]);rt("year","FullYear"),t.fn.days=t.fn.day,t.fn.weeks=t.fn.week,t.fn.isoWeeks=t.fn.isoWeek,t.duration.fn=P.prototype={weeks:function(){return B(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(e){var t=+this,n=et(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},lang:t.fn.lang};for(i in N)N.hasOwnProperty(i)&&(st(i,N[i]),it(i.toLowerCase()));st("Weeks",6048e5),t.lang("en",{ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),o&&(module.exports=t),typeof ender=="undefined"&&(this.moment=t),typeof define=="function"&&define.amd&&define("moment",[],function(){return t})}).call(this);